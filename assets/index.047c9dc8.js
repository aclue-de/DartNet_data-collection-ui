var w=Object.defineProperty;var I=(e,t,i)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var u=(e,t,i)=>(I(e,typeof t!="symbol"?t+"":t,i),i);import{c as v,a as x,u as S,b as f,d as y,j as n,C as p,B as h,e as b,f as T,g as C,r as d,h as c,I as N,i as R,k as L,l as m,L as j,m as B,F as P,n as g,o as O,p as k,R as D,q as U,T as z,s as F,P as M,t as q,v as E}from"./vendor.65339f6f.js";const H=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}};H();var l=(e=>(e[e.Init=0]="Init",e[e.NewThrow=1]="NewThrow",e))(l||{});const{reducer:W,actions:_}=v({name:"appState",initialState:0,reducers:{nextState:e=>{const t=e+1;return Object.values(l).includes(t)?t:e},previousState:e=>{const t=e-1;return Object.values(l).includes(t)?t:e}}}),$=x({appState:W}),A=e=>S(e),G=()=>{const{t:e}=f(),t=y();return n(p,{maxWidth:"sm",children:n(h,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:n(b,{variant:"contained",size:"large",startIcon:n(T,{}),onClick:()=>{t(_.nextState())},children:e("newThrow")})})})},K="http://192.168.2.40:8000";class V{constructor(t){u(this,"piUrl");u(this,"newImageRoute","new-image");this.piUrl=t}async newImage(){const t=[this.piUrl,this.newImageRoute].join("/");return C.get(t,{responseType:"arraybuffer"}).then(a=>a.data)}}const J=new V(K),Q=()=>{const{t:e}=f(),[t,i]=d.exports.useState(""),a=d.exports.useRef(null),r=async()=>{const s=await J.newImage(),o=`data:image/png;base64,${B.Buffer.from(s).toString("base64")}`;i(o)};return n(p,{children:c(h,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:[n(N,{size:"large",onClick:()=>{r()},children:n(R,{sx:{fontSize:"3em"}})}),c(L,{sx:{mt:3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[n(m,{cols:2,children:n(j,{component:"div",children:e("imagePreview.title")})},"images"),c(m,{children:[n("img",{src:t,alt:""}),n("canvas",{id:"CanvasBG",ref:a})]},0)]})]})})},X=()=>{const e=A(t=>t.appState);return c(P,{children:[e===l.Init&&n(G,{}),e===l.NewThrow&&n(Q,{})]})},Y={newThrow:"Neuer Wurf",imagePreview:{title:"Bilder"}},Z={newThrow:"New Throw",imagePreview:{title:"Images"}};g.use(O).init({fallbackLng:"de",fallbackNS:["common"],debug:!1,interpolation:{escapeValue:!1},resources:{de:{common:Y},en:{common:Z}}});const ee=k({palette:{mode:"dark"}});D.render(n(U.StrictMode,{children:n(z,{theme:ee,children:n(F,{i18n:g,children:c(M,{store:q($),children:[n(E,{}),n(X,{})]})})})}),document.getElementById("root"));
